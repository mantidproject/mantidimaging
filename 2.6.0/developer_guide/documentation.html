<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  
    <title>Documentation - MantidImaging 2.6.0 Documentation</title>
  
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=514cf933" />
    <link rel="stylesheet" type="text/css" href="../_static/extra.css?v=c0834052" />
    
    <script src="../_static/documentation_options.js?v=ae39cb24"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Developer Conventions" href="developer_conventions.html" />
    <link rel="prev" title="Developer Guide" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="developer_conventions.html" title="Developer Conventions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Developer Guide"
             accesskey="P">previous</a> |</li>
  
        <li class="nav-item nav-item-0"><a href="../index.html">MantidImaging 2.6.0 Documentation</a> &#187;</li>
  
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Developer Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">¶</a></h1>
<p>The documents are written in RST and generated with Sphinx, the build is
performed via the Sphinx integration with setuptools.</p>
<p>The most recent release of Sphinx can be installed from PyPI via <code class="code docutils literal notranslate"><span class="pre">pip</span>
<span class="pre">install</span> <span class="pre">sphinx</span></code> (the version available via the Ubuntu repositories does not
include all extensions that are required to build the documentation).</p>
<p>The documentation is version controlled along with the code, therefore it is
beneficial to make relevant changes to the documentation as the code is
modified.</p>
<section id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Link to this heading">¶</a></h2>
<p>TL;DR of building the documentation.</p>
<p>Run the commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">docs</span>
</pre></div>
</div>
<p>This will create the documentation in the docs/build/html directory.</p>
<p>If you also want to publish the docs (note this is normally done as an automated process):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">docs_publish</span>
</pre></div>
</div>
</section>
<section id="api-documentation">
<h2>API Documentation<a class="headerlink" href="#api-documentation" title="Link to this heading">¶</a></h2>
<p>The API documentation must be generated prior to building the documentation.
This is done with the command: <code class="code docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">docs_api</span></code>.</p>
</section>
<section id="html">
<h2>HTML<a class="headerlink" href="#html" title="Link to this heading">¶</a></h2>
<p>The HTML pages can be built using <code class="code docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">docs</span></code>, which will build
the documentation in <code class="code docutils literal notranslate"><span class="pre">docs/build.html</span></code>.</p>
<p>There is a setuptools command configured to deploy the documentation to GitHub
Pages where it will be visible at <a class="reference external" href="https://mantidproject.github.io/mantidimaging">https://mantidproject.github.io/mantidimaging</a></p>
<p>This can be done via the command <code class="code docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">docs_publish</span></code>.  This
assumes you are using SSH as your Git push protocol, if you are not you may
specify an alternative remote URL using the <code class="code docutils literal notranslate"><span class="pre">-r</span></code> argument.</p>
</section>
<section id="qthelp">
<h2>QtHelp<a class="headerlink" href="#qthelp" title="Link to this heading">¶</a></h2>
<p>It is also possible to use Sphinx to build the documentation as a Qt Help
project.</p>
<p>This can be done  with the command: <code class="code docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">docs</span> <span class="pre">-b</span> <span class="pre">qthelp</span></code>.</p>
</section>
<section id="release-notes">
<h2>Release Notes<a class="headerlink" href="#release-notes" title="Link to this heading">¶</a></h2>
<p>Release notes should be continuously updated during developement. Almost all pull requests should have an update to the relevant file and section in <code class="file docutils literal notranslate"><span class="pre">docs/release_notes</span></code></p>
<p>For the current development work, new release notes go in an individual file for each pull request. This prevents merge conflicts that would occur if two PRs directly edited the same release note file. For example the PR fixing issue #1792 by updating Python would have its change note placed in <code class="file docutils literal notranslate"><span class="pre">docs/release_notes/next/dev-1792-python-310</span></code>. The content would be a line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#1792 : Update python to 3.10</span>
</pre></div>
</div>
<p>These will be included into the relent section in <code class="file docutils literal notranslate"><span class="pre">docs/release_notes/next.rst</span></code>. At release time the notes can be collected up using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">release_notes</span>
</pre></div>
</div>
<p>and added to the release notes. The individual files can then be deleted.</p>
<p>When fixes are backported to a release branch, they can be added to the notes for that release, in an updates section.</p>
</section>
<section id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Link to this heading">¶</a></h2>
<p>Logging can be controlled using the QSettings configuration file <code class="file docutils literal notranslate"><span class="pre">.config/mantidproject/Mantid</span> <span class="pre">Imaging.conf</span></code> on Linux or the equivalent registry keys on windows (See <a class="reference external" href="https://doc.qt.io/qtforpython-5/PySide2/QtCore/QSettings.html">QSettings</a>). For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">logging</span><span class="p">]</span>
<span class="n">log_level</span><span class="o">=</span><span class="n">DEBUG</span>
<span class="n">log_dir</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span><span class="n">mantid_imaging_logs</span>
<span class="n">performance_log</span><span class="o">=</span><span class="n">true</span>
</pre></div>
</div>
</section>
<section id="benchmarking-and-profiling">
<h2>Benchmarking and profiling<a class="headerlink" href="#benchmarking-and-profiling" title="Link to this heading">¶</a></h2>
<p>Mantid imaging has some utilities to help with benchmarking and profiling.</p>
<p>The context managers <a class="reference internal" href="../api/mantidimaging.core.utility.execution_timer.html#mantidimaging.core.utility.execution_timer.ExecutionTimer" title="mantidimaging.core.utility.execution_timer.ExecutionTimer"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExecutionTimer</span></code></a> and <a class="reference internal" href="../api/mantidimaging.core.utility.execution_timer.html#mantidimaging.core.utility.execution_timer.ExecutionProfiler" title="mantidimaging.core.utility.execution_timer.ExecutionProfiler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExecutionProfiler</span></code></a> can be used to wrap some lines of code to record and log its run time. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">ExecutionProfiler</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;a_slow_function()&quot;</span><span class="p">):</span>
    <span class="n">a_slow_function</span><span class="p">()</span>
</pre></div>
</div>
<p>will record and log a profile of function calls and times within <code class="code docutils literal notranslate"><span class="pre">a_slow_function()</span></code>.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Documentation</a><ul>
<li><a class="reference internal" href="#workflow">Workflow</a></li>
<li><a class="reference internal" href="#api-documentation">API Documentation</a></li>
<li><a class="reference internal" href="#html">HTML</a></li>
<li><a class="reference internal" href="#qthelp">QtHelp</a></li>
<li><a class="reference internal" href="#release-notes">Release Notes</a></li>
<li><a class="reference internal" href="#logging">Logging</a></li>
<li><a class="reference internal" href="#benchmarking-and-profiling">Benchmarking and profiling</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter">Developer Guide</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="developer_conventions.html"
                          title="next chapter">Developer Conventions</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
<div class="versions">
<h3>Versions</h3>
<ul>
  <li><a href="../../index.html">Latest</a></li>
  <li><a href="../../2.3.0/developer_guide/documentation.html">2.3.0</a></li>
  <li><a href="../../2.4.0/developer_guide/documentation.html">2.4.0</a></li>
  <li><a href="../../2.5.0/developer_guide/documentation.html">2.5.0</a></li>
  <li><a href="documentation.html">2.6.0</a></li>
  <li><a href="../../2.7.0/developer_guide/documentation.html">2.7.0</a></li>
</ul>
</div>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="developer_conventions.html" title="Developer Conventions"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Developer Guide"
             >previous</a> |</li>
  
        <li class="nav-item nav-item-0"><a href="../index.html">MantidImaging 2.6.0 Documentation</a> &#187;</li>
  
          <li class="nav-item nav-item-1"><a href="index.html" >Developer Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2017-2024, Mantid Project.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>